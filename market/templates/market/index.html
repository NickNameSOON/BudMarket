<!DOCTYPE html>
{% extends "market/base.html" %}
{% load static %}

{% block content %}
<main class="mt-6 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-6">
    <div class="sm:text-center lg:text-left">
        <h1 class="text-2xl font-extrabold text-center text-gray-900 sm:text-5xl md:text-5xl">
            <p class="block xl:inline">Покращіть своє житло</p>
            <p class=" text-red-500">за вигідними цінами</p>
        </h1>
        <p class="mt-3 text-base text-center text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-2xl lg:mx-0">
            Купуйте найкраще для вашої оселі
        </p>
    </div>
    <div class="shadow-lg mt-4">
        <h1>Рекомендуємо до покупки:</h1>
        <div class="relative flex items-center">
            <button id="scroll-left" class="absolute left-0 z-10 bg-white p-2 rounded-full shadow-md">
                <i class="fas fa-chevron-left"></i>
            </button>
            <div id="products-carousel" class="flex overflow-x-auto space-x-4" style="scroll-behavior: smooth;">
                {% for product in products %}
                    <a class="block flex-none w-1/5 rounded overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-200"
                       href="{% url 'market:detail' product.id %}">
                        <img class="w-full h-48 object-cover" src="{{ product.image.url }}" alt="">
                        <div class="px-6 py-4">
                            <p class="font-bold text-xl mb-2">{{ product.title }}</p>
                            <p class="font-bold text-gray-400 mb-2">Виробник: {{ product.brand }}</p>
                            <p class="font-bold text-xl text-green-500 mb-2">{{ product.price }} ₴</p>
                        </div>
                    </a>
                {% empty %}
                    <div class="text-4xl font-extrabold text-gray-900">No products found</div>
                {% endfor %}
            </div>
            <button id="scroll-right" class="absolute right-0 z-10 bg-white p-2 rounded-full shadow-md">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>
</main>

<script>
    const scrollContainer = document.getElementById('products-carousel');
    const scrollAmount = scrollContainer.clientWidth;

    document.getElementById('scroll-left').onclick = function() {
        scrollContainer.scrollBy({
            left: -scrollAmount,
            behavior: 'smooth'
        });
    };

    document.getElementById('scroll-right').onclick = function() {
        scrollContainer.scrollBy({
            left: scrollAmount,
            behavior: 'smooth'
        });
    };
</script>
{% endblock content %}
